engine: V2
name: Confirm and send
metadata:
  id: 7ccfcdda-6e8f-4963-be8e-2b16f12d7ebf
  tasklistId: example
  submission:
    grantCode: declaration
  grantRedirectRules:
    preSubmission:
      - toPath: /check-selected-land-actions
    postSubmission:
      # Submitted -> confirmation
      - fromGrantsStatus: SUBMITTED
        gasStatus: RECEIVED
        toGrantsStatus: SUBMITTED
        toPath: /confirmation

      - fromGrantsStatus: SUBMITTED
        gasStatus: OFFER_SENT
        toGrantsStatus: SUBMITTED
        toPath: /confirmation

      - fromGrantsStatus: SUBMITTED
        gasStatus: OFFER_WITHDRAWN
        toGrantsStatus: SUBMITTED
        toPath: /confirmation

      - fromGrantsStatus: SUBMITTED
        gasStatus: OFFER_ACCEPTED
        toGrantsStatus: SUBMITTED
        toPath: /confirmation

      - fromGrantsStatus: SUBMITTED
        gasStatus: default
        toGrantsStatus: SUBMITTED
        toPath: /confirmation

      # Reopened
      - fromGrantsStatus: REOPENED
        gasStatus: default
        toGrantsStatus: REOPENED
        toPath: /summary

      # Cleared
      - fromGrantsStatus: CLEARED
        gasStatus: default
        toGrantsStatus: CLEARED
        toPath: /start

      # Awaiting amendments
      - fromGrantsStatus: AWAITING_AMENDMENTS
        gasStatus: default
        toGrantsStatus: REOPENED
        toPath: /summary

      # Default fallback
      - fromGrantsStatus: default
        gasStatus: default
        toGrantsStatus: SUBMITTED
        toPath: /confirmation
pages:
  - title: Confirm and send
    path: /declaration
    section: confirmAndSendSection
    controller: DeclarationPageController
    view: grants/declaration.html
    id: c194a0ee-1c16-4418-a02f-6f939e3d5c6d
lists: []
conditions: []
sections:
  - title: Confirm and send
    name: confirmAndSendSection
    hideTitle: false
startPage: /declaration
schema: 2
