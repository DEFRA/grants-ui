engine: V2
name: Score results
metadata:
  id: 240dd256-48e5-476a-aec5-492528898405
  tasklistId: example
  submission:
    grantCode: score-results
  grantRedirectRules:
    preSubmission:
      - toPath: /summary
    postSubmission:
      # Submitted -> confirmation
      - fromGrantsStatus: SUBMITTED
        gasStatus: RECEIVED
        toGrantsStatus: SUBMITTED
        toPath: /confirmation

      - fromGrantsStatus: SUBMITTED
        gasStatus: OFFER_SENT
        toGrantsStatus: SUBMITTED
        toPath: /confirmation

      - fromGrantsStatus: SUBMITTED
        gasStatus: OFFER_WITHDRAWN
        toGrantsStatus: SUBMITTED
        toPath: /confirmation

      - fromGrantsStatus: SUBMITTED
        gasStatus: OFFER_ACCEPTED
        toGrantsStatus: SUBMITTED
        toPath: /confirmation

      - fromGrantsStatus: SUBMITTED
        gasStatus: default
        toGrantsStatus: SUBMITTED
        toPath: /confirmation

      # Reopened
      - fromGrantsStatus: REOPENED
        gasStatus: default
        toGrantsStatus: REOPENED
        toPath: /summary

      # Cleared
      - fromGrantsStatus: CLEARED
        gasStatus: default
        toGrantsStatus: CLEARED
        toPath: /start

      # Awaiting amendments
      - fromGrantsStatus: AWAITING_AMENDMENTS
        gasStatus: default
        toGrantsStatus: REOPENED
        toPath: /summary

      # Default fallback
      - fromGrantsStatus: default
        gasStatus: default
        toGrantsStatus: SUBMITTED
        toPath: /confirmation
pages:
  - title: Score results
    path: /score-results
    section: scoreResultsSection
    view: score-results-tasklist.html
    events:
      onLoad:
        type: http
        options:
          method: POST
          url: https://ffc-grants-scoring.cdpEnvironment.cdp-int.defra.cloud/scoring/api/v1/adding-value/score?allowPartialScoring=true
    id: a961ff25-9a67-45c4-b452-85754a6f9fc9
lists: []
conditions: []
sections:
  - title: Score results
    name: scoreResultsSection
    hideTitle: false
startPage: /score-results
schema: 2
