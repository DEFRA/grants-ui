# Shared redirect rules for all grants
sharedRedirectRules:
  preSubmission:
    # Typically rules for unsubmitted applications
    - toPath: /summary

  postSubmission:
    # Cleared
    - fromGrantsStatus: SUBMITTED,REOPENED
      gasStatus: APPLICATION_WITHDRAWN
      toGrantsStatus: CLEARED
      toPath: /start

    # Awaiting amendments
    - fromGrantsStatus: SUBMITTED
      gasStatus: AWAITING_AMENDMENTS
      toGrantsStatus: REOPENED
      toPath: /summary

    # Offer sent, withdrawn, accepted -> agreements service
    - fromGrantsStatus: 'SUBMITTED'
      gasStatus: 'OFFER_SENT,OFFER_WITHDRAWN,OFFER_ACCEPTED'
      toGrantsStatus: 'SUBMITTED'
      toPath: __AGREEMENTS_BASE_URL__

    # Reopened
    - fromGrantsStatus: REOPENED
      gasStatus: default
      toGrantsStatus: REOPENED
      toPath: /summary

    # Submitted -> confirmation (default for most GAS statuses)
    - fromGrantsStatus: SUBMITTED
      gasStatus: default
      toGrantsStatus: SUBMITTED
      toPath: /confirmation

    # Default fallback
    - fromGrantsStatus: default
      gasStatus: default
      toGrantsStatus: SUBMITTED
      toPath: /confirmation
